<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/commun/loginlayout.xhtml">
	<ui:define name="content">

		<h:form id="authentification">
		
		<p:remoteCommand name="showDlg"
				oncomplete="PF('create-dlg-MDP').show()" />
				<p:remoteCommand name="hideDlg"
				oncomplete="PF('create-dlg-MDP').hide()" />
			<!-- 			<div class="LoginLayoutpanel"> -->
		
			<h:panelGrid columns="1" styleClass="LoginGrid" cellpadding="10">
			<f:facet name="header">
						<p:graphicImage styleClass="lgn" />
					</f:facet>
			
				<p:outputPanel styleClass="UserInput" >
					<p:inputText id="j_username" value="#{loginMBean.userName}" styleClass="holderUserInput"
						required="true">
						<f:validateLength minimum="2" />
					</p:inputText>
				</p:outputPanel>
				<p:outputPanel styleClass="PassInput">
					<p:password id="j_password" value="#{loginMBean.password}" 
						required="true">
						<f:validateLength minimum="2" />
					</p:password>
				</p:outputPanel>


				<p:commandButton ajax="false" id="login"
					styleClass="LoginButton" action="#{loginMBean.doLogin}"
					value="Connexion" />
					
					<p:commandLink styleClass="ChangerMDP" process="@this j_username" 
						update="@form" 
						value="Changer le mot de passe?"></p:commandLink>
						
						<p:link styleClass="ChangerMDP" 
						value="Inscription"></p:link>
					
					<p:messages globalOnly="true"/>
					<center id="Copyright">Copyright Â© 2015 M2M Group</center>
					
					<p:growl id="messages" showDetail="false" autoUpdate="true" closable="true" />
					
			</h:panelGrid>

			<p:watermark for="j_username" value="Identifiant" />
			<p:watermark for="j_password" value="Mot de passe" />
			
		</h:form>
		
		
		
		
	</ui:define>
</ui:composition>
